"5" = "No response")) %>%
mutate(MTGDEDTf = as.factor(MTGDEDT),
MTGDEDTf = recode(MTGDEDT,
"1" = "Respondent",
"2" = "R's Family",
"3" = "R and R's Family",
"4" = "None",
"5" = "No response")) %>%
mutate(VOTE_F = as.factor(VOTE),
VOTE_F = recode(VOTE,
"1" = "Always",
"2" = "Usually",
"3" = "Sometimes",
"4" = "Not at all",
"5" = "No response")) %>%
mutate(PTYIDd = as.numeric(PTYID),
PTYIDd = recode(PTYID,
"3" = 1,
"1" = 0,
"2" = 55,
"4" = 55,
"5" = 55)) %>%
mutate(FDSTMPd = as.numeric(FDSTMP2),
FDSTMPd = recode(FDSTMP2,
"1" = 1,
"2" = 0,
"3" = 1,
"4" = 0,
"5" = 27)) %>%
mutate(SOCSECd = as.numeric(SOCSEC),
SOCSECd = recode(SOCSEC,
"1" = 1,
"2" = 0,
"3" = 1,
"4" = 0,
"5" = 27)) %>%
mutate(MEDICAREd = as.numeric(MEDICARE),
MEDICAREd = recode(MEDICARE,
"1" = 1,
"2" = 0,
"3" = 1,
"4" = 0,
"5" = 27)) %>%
mutate(MEDAIDd = as.numeric(MEDAID2),
MEDAIDd = recode(MEDAID2,
"1" = 1,
"2" = 0,
"3" = 1,
"4" = 0,
"5" = 27)) %>%
mutate(WELFAREd = as.numeric(WELFARE2),
WELFAREd = recode(WELFARE2,
"1" = 1,
"2" = 0,
"3" = 1,
"4" = 0,
"5" = 27)) %>%
mutate(EITCd = as.numeric(EITC),
EITCd = recode(EITC,
"1" = 1,
"2" = 0,
"3" = 1,
"4" = 0,
"5" = 27)) %>%
mutate(UNEMPLOYd = as.numeric(UNEMPLOY),
UNEMPLOYd = recode(UNEMPLOY,
"1" = 1,
"2" = 0,
"3" = 1,
"4" = 0,
"5" = 27)) %>%
mutate(GOVTPENd = as.factor(GOVTPEN),
GOVTPENd = recode(GOVTPEN,
"1" = 1,
"2" = 0,
"3" = 1,
"4" = 0,
"5" = 27)) %>%
mutate(PUBHOUd = as.numeric(PUBHOU2),
PUBHOUd = recode(PUBHOU2,
"1" = 1,
"2" = 0,
"3" = 1,
"4" = 0,
"5" = 27)) %>%
mutate(DISABITYd = as.numeric(DISABITY),
DISABITYd = recode(DISABITY,
"1" = 1,
"2" = 0,
"3" = 1,
"4" = 0,
"5" = 27)) %>%
mutate(WICd = as.numeric(WIC),
WICd = recode(WIC,
"1" = 1,
"2" = 0,
"3" = 1,
"4" = 0,
"5" = 27)) %>%
mutate(HEADd = as.factor(HEADST2),
HEADd = recode(HEADST2,
"1" = 1,
"2" = 0,
"3" = 1,
"4" = 0,
"5" = 27)) %>%
mutate(COLLGRNTd = as.factor(COLLGRT2),
COLLGRNTd = recode(COLLGRT2,
"1" = 1,
"2" = 0,
"3" = 1,
"4" = 0,
"5" = 27)) %>%
mutate(STULOANSd = as.factor(STULOANS),
STULOANSd = recode(STULOANS,
"1" = 1,
"2" = 0,
"3" = 1,
"4" = 0,
"5" = 27)) %>%
mutate(VETBENd = as.factor(VETBEN),
VETBENd = recode(VETBEN,
"1" = 1,
"2" = 0,
"3" = 1,
"4" = 0,
"5" = 27)) %>%
mutate(WRKCOMPd = as.factor(WRKCOMP),
WRKCOMPd = recode(WRKCOMP,
"1" = 1,
"2" = 0,
"3" = 1,
"4" = 0,
"5" = 27)) %>%
mutate(BUSLOANd = as.factor(BUSLOAN),
BUSLOANd = recode(BUSLOAN,
"1" = 1,
"2" = 0,
"3" = 1,
"4" = 0,
"5" = 27)) %>%
mutate(GIBILLd = as.factor(GIBILL),
GIBILLd = recode(GIBILL,
"1" = 1,
"2" = 0,
"3" = 1,
"4" = 0,
"5" = 27)) %>%
mutate(white = as.factor(race2),
white = recode(race2,
"1" = 0,
"2" = 1,
"3" = 1,
"4" = 0,
"5" = 0,
"6" = 0,
"7" = 27)) %>%
mutate(MTGDEDTd = as.factor(MTGDEDT),
MTGDEDTd = recode(MTGDEDT,
"1" = 1,
"2" = 0,
"3" = 1,
"4" = 0,
"5" = 27)) %>%
filter(FDSTMPd < 5) %>%
filter(SOCSECd < 5) %>%
filter(MEDICAREd < 5) %>%
filter(MEDAIDd < 5) %>%
filter(WELFAREd < 5) %>%
filter(EITCd < 5) %>%
filter(UNEMPLOYd < 5) %>%
filter(GOVTPENd < 5) %>%
filter(PUBHOUd < 5) %>%
filter(DISABITYd < 5) %>%
filter(WICd < 5) %>%
filter(HEADST2 < 5) %>%
filter(COLLGRT2 < 5) %>%
filter(STULOANS < 5) %>%
filter(VETBEN < 5) %>%
filter(WRKCOMP < 5) %>%
filter(BUSLOAN < 5) %>%
filter(GIBILL < 5) %>%
filter(MTGDEDT < 5) %>%
filter(PTYIDd < 2) %>%
filter(TRUSTOFF < 3) %>%
filter(INCOME < 8) %>%
filter(PEOPSAY < 3) %>%
filter(EDUC < 5) %>%
filter(white < 3) %>%
filter(FOLLOWPA < 5) %>%
glimpse()
#count total aid participation for each participant
a <- max %>%
mutate(Total = select(., FDSTMPd:MTGDEDTd) %>% rowSums(na.rm = TRUE))
summary(a$Total) #descriptive stats
table(a$Total,max$VOTE_F)
#count total means tested
a <- a %>%
mutate(total_means = select(., FDSTMPd, MEDAIDd, WELFAREd,
EITCd, UNEMPLOYd, PUBHOUd, WICd, HEADd,
COLLGRNTd, MTGDEDTd) %>%
rowSums(na.rm=TRUE))
summary(a$total_means)
#count total loans
a <- a %>%
mutate(total_loans = select(., STULOANSd, BUSLOANd) %>%
rowSums(na.rm=TRUE))
summary(a$total_loans)
#count total entitlements
a <- a %>%
mutate(total_ent = select(., SOCSECd, MEDICAREd, GOVTPENd, VETBENd,
GIBILLd) %>% rowSums(na.rm=TRUE))
summary(a$total_ent)
#count total universal
a <- a %>%
mutate(total_uni = select(., UNEMPLOYd, DISABITYd, WRKCOMPd) %>%
rowSums(na.rm=TRUE))
summary(a$total_uni)
#make aid dummy
a <- a %>%
mutate(aid_dummy = as.numeric(Total),
aid_dummy = recode(Total,
"0" = 0,
"1" = 1,
"2" = 1,
"3" = 1,
"4" = 1,
"5" = 1,
"6" = 1,
"7" = 1,
"8" = 1,
"9" = 1,
"10" = 1,
'11' = 1,
'12' = 1,
'13' = 1)) %>%
glimpse()
#order VOTE_F correctly
a$VOTE_F <- factor(a$VOTE_F, levels = c("Always", "Usually", "Sometimes",
"Not at all"))
#check our work
#class(a$VOTE_F)
max_sub <- a %>%
select(allwt, INCOME, white, VOTE, VOTE_F, EDUC, FDSTMPd, FDSTMP, SOCSECd, SOCSECf,
MEDAIDd, MEDICAID, MEDICAREd, MEDICAREf, WELFAREd, WELFARE, EITCd, EITCf,
UNEMPLOYd, UNEMPLOYf, GOVTPENd, GOVTPENf, PUBHOUd, PUBHOU, DISABITYd, DISABITYf,
WICd, WICf, HEADf, HEADd, COLLGRNTf, COLLGRNTd, STULOANSf,
STULOANSd, VETBENf, VETBENd, WRKCOMPf, WRKCOMPd, BUSLOANf, BUSLOANd, GIBILLf,
GIBILLd, MTGDEDTf, MTGDEDTd, PTYIDd, PTYIDf, FOLLOWPA, sex,
TRUSTOFF, PEOPSAY, total_means, total_ent, total_loans, total_uni,
aid_dummy, Total, year)
write_csv(max_sub, "Data/max_sub.csv")
library(tidyverse)
library(gridExtra)
#read data
max <- read_csv("Data/max_sub.csv")
m <- max %>%
group_by(VOTE_F) %>%
summarize(mean = mean(Total),
med = median(Total),
q25 = quantile(Total, probs = .25),
q75 = quantile(Total, probs = .75)) %>%
glimpse()
class(max$VOTE_F)
max <- read_csv("Data/max_sub.csv")
#order VOTE_F correctly
max$VOTE_F <- factor(max$VOTE_F, levels = c("Always", "Usually", "Sometimes",
"Not at all"))
#check our work
class(max$VOTE_F)
m <- max %>%
group_by(VOTE_F) %>%
summarize(mean = mean(Total),
med = median(Total),
q25 = quantile(Total, probs = .25),
q75 = quantile(Total, probs = .75)) %>%
glimpse()
df <- max
df <- max
df2 <- select(df, -VOTE_F)
ggplot(df, aes(x=year, y=Total)) + theme_minimal() +
geom_point(data = df2, color = "grey70", alpha=.4) +
geom_point(alpha=.6, aes(color = VOTE_F)) +
#scale_color_manual(values=c("#f0e442", "#cc79a7", "#d55e00", "#009e73", "#0072b2")) +
facet_wrap(~VOTE_F) +
#theme(axis.text.x = element_text(angle=45)) +
labs(title = "Vote Frequency By Total",
x = " Year",
y = "Total Aid Programs",
color = "Voting Frequency")
#order year correctly
max$year <- factor(max$year, levels = c("2004", "2005", "2006"))
#check our work
class(max$year)
df <- max
df2 <- select(df, -VOTE_F)
ggplot(df, aes(x=year, y=Total)) + theme_minimal() +
geom_point(data = df2, color = "grey70", alpha=.4) +
geom_point(alpha=.6, aes(color = VOTE_F)) +
#scale_color_manual(values=c("#f0e442", "#cc79a7", "#d55e00", "#009e73", "#0072b2")) +
facet_wrap(~VOTE_F) +
#theme(axis.text.x = element_text(angle=45)) +
labs(title = "Vote Frequency By Total",
x = " Year",
y = "Total Aid Programs",
color = "Voting Frequency")
#ggsave("Figs/gini_region_by_year.jpeg")
ggplot(max, aes(x=VOTE_F, y=Total)) + geom_point() + theme_minimal() +
#theme(axis.text.x = element_text(angle=45)) +
labs(title = "Vote Frequency By Total",
x = " Year",
y = "Total Aid Programs",
color = "Voting Frequency")
ggplot(max, aes(x=VOTE_F, y=Total)) + geom_point() + theme_minimal() + coord_flip()
#theme(axis.text.x = element_text(angle=45)) +
labs(title = "Vote Frequency By Total",
x = " Year",
y = "Total Aid Programs",
color = "Voting Frequency")
ggplot(max, aes(x=VOTE_F, y=Total)) + geom_point() + theme_minimal() +
#theme(axis.text.x = element_text(angle=45)) +
labs(title = "Vote Frequency By Total",
x = " Year",
y = "Total Aid Programs",
color = "Voting Frequency")
ggplot(max, aes(x=total_means, y=Total, color=VOTE_F, fill=VOTE_F)) +
geom_point() + theme_minimal() +
#theme(axis.text.x = element_text(angle=45)) +
labs(title = "Vote Frequency By Total",
x = " Year",
y = "Total Aid Programs",
color = "Voting Frequency")
ggplot(max, aes(x=total_means, y=Total, color=VOTE_F)) +
geom_point() + theme_minimal() +
#theme(axis.text.x = element_text(angle=45)) +
labs(title = "Vote Frequency By Total",
x = " Total Means Tested Programs",
y = "Total Aid Programs",
color = "Voting Frequency")
ggplot(max, aes(x=total_means, y=Total, color=VOTE_F)) +
geom_point() + theme_minimal() +
#theme(axis.text.x = element_text(angle=45)) +
scale_color_manual(values=c("#f0e442", "#cc79a7", "#d55e00", "#009e73", "#0072b2")) +
labs(title = "Vote Frequency By Total",
x = " Total Means Tested Programs",
y = "Total Aid Programs",
color = "Voting Frequency")
ggplot(max, aes(x=total_means, y=Total, color=VOTE_F)) +
geom_point() + theme_minimal() +
#theme(axis.text.x = element_text(angle=45)) +
scale_color_manual(values=c("#f0e442", "#cc79a7", "#d55e00", "#009e73", "#0072b2")) +
labs(title = "Vote Frequency By Total",
x = " Total Means Tested Programs",
y = "Total Aid Programs",
color = "Voting Frequency")
ggplot(max, aes(x=total_uni, y=Total, color=VOTE_F)) +
geom_point() + theme_minimal() +
#theme(axis.text.x = element_text(angle=45)) +
scale_color_manual(values=c("#f0e442", "#cc79a7", "#d55e00", "#009e73", "#0072b2")) +
labs(title = "Vote Frequency By Total",
x = " Total Universal Programs",
y = "Total Aid Programs",
color = "Voting Frequency")
ggplot(max, aes(x=total_means, y=Total, color=VOTE_F)) +
geom_point() + theme_minimal() +
#theme(axis.text.x = element_text(angle=45)) +
scale_color_manual(values=c("#f0e442", "#cc79a7", "#d55e00", "#009e73", "#0072b2")) +
labs(title = "Vote Frequency By Total",
x = " Total Means Tested Programs",
y = "Total Aid Programs",
color = "Voting Frequency")
ggplot(max, aes(x=total_uni, y=Total, color=VOTE_F)) +
geom_point() + theme_minimal() +
#theme(axis.text.x = element_text(angle=45)) +
scale_color_manual(values=c("#f0e442", "#cc79a7", "#d55e00", "#009e73", "#0072b2")) +
labs(title = "Vote Frequency By Total",
x = " Total Universal Programs",
y = "Total Aid Programs",
color = "Voting Frequency")
ggplot(max, aes(x=total_uni, y=Total, color=VOTE_F)) +
geom_line() + theme_minimal() +
#theme(axis.text.x = element_text(angle=45)) +
scale_color_manual(values=c("#f0e442", "#cc79a7", "#d55e00", "#009e73", "#0072b2")) +
labs(title = "Vote Frequency By Total",
x = " Total Universal Programs",
y = "Total Aid Programs",
color = "Voting Frequency")
ggplot(max, aes(x=total_uni, y=Total, color=VOTE_F)) +
geom_point() + theme_minimal() +
#theme(axis.text.x = element_text(angle=45)) +
scale_color_manual(values=c("#f0e442", "#cc79a7", "#d55e00", "#009e73", "#0072b2")) +
labs(title = "Vote Frequency By Total",
x = " Total Universal Programs",
y = "Total Aid Programs",
color = "Voting Frequency")
ggplot(max, aes(x=total_loans, y=Total, color=VOTE_F)) +
geom_point() + theme_minimal() +
#theme(axis.text.x = element_text(angle=45)) +
scale_color_manual(values=c("#f0e442", "#cc79a7", "#d55e00", "#009e73", "#0072b2")) +
labs(title = "Vote Frequency By Total",
x = " Total Loans Programs",
y = "Total Aid Programs",
color = "Voting Frequency")
ggplot(max, aes(x=total_ent, y=Total, color=VOTE_F)) +
geom_point() + theme_minimal() +
#theme(axis.text.x = element_text(angle=45)) +
scale_color_manual(values=c("#f0e442", "#cc79a7", "#d55e00", "#009e73", "#0072b2")) +
labs(title = "Vote Frequency By Total",
x = " Total Entitlement Programs",
y = "Total Aid Programs",
color = "Voting Frequency")
df2 <- select(max, -VOTE_F)
ggplot(max, aes(x=total_means, y=Total)) +
geom_point(data = df2, color = "grey70", alpha=.4) +
geom_point(alpha=.6, aes(color=VOTE_F)) +
theme_minimal() +
#theme(axis.text.x = element_text(angle=45)) +
scale_color_manual(values=c("#f0e442", "#cc79a7", "#d55e00", "#009e73", "#0072b2")) +
labs(title = "Vote Frequency By Total",
x = " Total Means Tested Programs",
y = "Total Aid Programs",
color = "Voting Frequency")
ggplot(max, aes(x=VOTE_F, y=total_means)) + geom_point() +
theme_minimal()
ggplot(max, aes(x=total_means, y=..density.., color=VOTE_F)) + geom_density() +
theme_minimal()
ggplot(max, aes(x=total_means, y=..density.., fill=VOTE_F)) + geom_density() +
theme_minimal()
ggplot(max, aes(x=total_means, y=..density.., fill=VOTE_F)) +
geom_density(alpha=.3) +
theme_minimal()
ggplot(max, aes(x=total_means, y=..density.., fill=VOTE_F)) +
geom_density(alpha=.3) +
theme_minimal() +
scale_fill_viridis() +
scale_fill_viridis(discrete = TRUE)
library(tidyverse)
library(gridExtra)
library(viridis)
ggplot(max, aes(x=total_means, y=..density.., fill=VOTE_F)) +
geom_density(alpha=.3) +
theme_minimal() +
scale_fill_viridis() +
scale_fill_viridis(discrete = TRUE)
ggplot(max, aes(x=total_means, y=..density.., fill=VOTE_F)) +
geom_density(alpha=.3) +
theme_minimal() +
scale_fill_manual(values=c("#f0e442", "#cc79a7", "#d55e00", "#009e73"))
ggplot(max, aes(x=total_means, y=..density.., fill=VOTE_F)) +
geom_density(alpha=.3) +
theme_minimal() +
scale_fill_manual(values=c("#f0e442", "#cc79a7", "#d55e00", "#009e73")) +
labs(x = "Total Means Tested Programs",
fill = "Voting Frequency",
y = "Density")
ggplot(max, aes(x=total_means, y=..density.., fill=VOTE_F)) +
geom_density(alpha=.3) +
theme_minimal() +
scale_fill_manual(values=c("#FFFF00", "#FF0000", "#228B22", "#009e73")) +
labs(x = "Total Means Tested Programs",
fill = "Voting Frequency",
y = "Density")
ggplot(max, aes(x=total_means, y=..density.., fill=VOTE_F)) +
geom_density(alpha=.3) +
theme_minimal() +
scale_fill_manual(values=c("#FFFF00", "#FF0000", "#228B22", "#0000FF")) +
labs(x = "Total Means Tested Programs",
fill = "Voting Frequency",
y = "Density")
ggplot(max, aes(x=total_means, y=..density.., color = VOTE_F, fill=VOTE_F)) +
geom_density(alpha=.3) +
theme_minimal() +
scale_fill_manual(values=c("#FFFF00", "#FF0000", "#228B22", "#0000FF")) +
labs(x = "Total Means Tested Programs",
fill = "Voting Frequency",
color = "",
y = "Density")
ggplot(max, aes(x=total_means, y=..density.., fill=VOTE_F)) +
geom_density(alpha=.3) +
theme_minimal() +
scale_fill_manual(values=c("#FFFF00", "#FF0000", "#228B22", "#0000FF")) +
labs(x = "Total Means Tested Programs",
fill = "Voting Frequency",
y = "Density")
ggplot(max, aes(x=total_uni, y=..density.., fill=VOTE_F)) +
geom_density(alpha=.3) +
theme_minimal() +
scale_fill_manual(values=c("#FFFF00", "#FF0000", "#228B22", "#0000FF")) +
labs(x = "Total Universal Aid Programs",
fill = "Voting Frequency",
y = "Density")
ggplot(max, aes(x=total_loan, y=..density.., fill=VOTE_F)) +
geom_density(alpha=.3) +
theme_minimal() +
scale_fill_manual(values=c("#FFFF00", "#FF0000", "#228B22", "#0000FF")) +
labs(x = "Total Loan Programs",
fill = "Voting Frequency",
y = "Density")
ggplot(max, aes(x=total_loans, y=..density.., fill=VOTE_F)) +
geom_density(alpha=.3) +
theme_minimal() +
scale_fill_manual(values=c("#FFFF00", "#FF0000", "#228B22", "#0000FF")) +
labs(x = "Total Loan Programs",
fill = "Voting Frequency",
y = "Density")
ggplot(max, aes(x=total_ent, y=..density.., fill=VOTE_F)) +
geom_density(alpha=.3) +
theme_minimal() +
scale_fill_manual(values=c("#FFFF00", "#FF0000", "#228B22", "#0000FF")) +
labs(x = "Total Entitlement Programs",
fill = "Voting Frequency",
y = "Density")
